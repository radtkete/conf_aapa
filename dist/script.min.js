// // Avoid `console` errors in browsers that lack a console.
// (function() {
//     var method;
//     var noop = function () {};
//     var methods = [
//         'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',
//         'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',
//         'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',
//         'timeline', 'timelineEnd', 'timeStamp', 'trace', 'warn'
//     ];
//     var length = methods.length;
//     var console = (window.console = window.console || {});
//     while (length--) {
//         method = methods[length];
//         // Only stub undefined methods.
//         if (!console[method]) {
//             console[method] = noop;
//         }
//     }
// }());
// // Place any jQuery/helper plugins in here.
// (function() {
//   'use strict';
//   /**
//    * tabs
//    *
//    * @description The Tabs component.
//    * @param {Object} options The options hash
//    */
//   var tabs = function(options) {
//     var el = document.querySelector(options.el);
//     var tabNavigationLinks = el.querySelectorAll(options.tabNavigationLinks);
//     var tabContentContainers = el.querySelectorAll(options.tabContentContainers);
//     var activeIndex = 0;
//     var initCalled = false;
//     /**
//      * init
//      *
//      * @description Initializes the component by removing the no-js class from
//      *   the component, and attaching event listeners to each of the nav items.
//      *   Returns nothing.
//      */
//     var init = function() {
//       if (!initCalled) {
//         initCalled = true;
//         el.classList.remove('no-js');
//         for (var i = 0; i < tabNavigationLinks.length; i++) {
//           var link = tabNavigationLinks[i];
//           handleClick(link, i);
//         }
//       }
//     };
//     /**
//      * handleClick
//      *
//      * @description Handles click event listeners on each of the links in the
//      *   tab navigation. Returns nothing.
//      * @param {HTMLElement} link The link to listen for events on
//      * @param {Number} index The index of that link
//      */
//     var handleClick = function(link, index) {
//       link.addEventListener('click', function(e) {
//         e.preventDefault();
//         goToTab(index);
//       });
//     };
//     /**
//      * goToTab
//      *
//      * @description Goes to a specific tab based on index. Returns nothing.
//      * @param {Number} index The index of the tab to go to
//      */
//     var goToTab = function(index) {
//       if (index !== activeIndex && index >= 0 && index <= tabNavigationLinks.length) {
//         tabNavigationLinks[activeIndex].classList.remove('is-active');
//         tabNavigationLinks[index].classList.add('is-active');
//         tabContentContainers[activeIndex].classList.remove('is-active');
//         tabContentContainers[index].classList.add('is-active');
//         activeIndex = index;
//       }
//     };
//     /**
//      * Returns init and goToTab
//      */
//     return {
//       init: init,
//       goToTab: goToTab
//     };
//   };
//   /**
//    * Attach to global namespace
//    */
//   window.tabs = tabs;
// })();
(function($) {
    "use strict";
    // Start of use strict
    /* ---------------------------------------------
    Scripts initialization
    --------------------------------------------- */
    $(window).on("load", function(event) {
        event.preventDefault();
        $(window).trigger("scroll");
        $(window).trigger("resize");
    });
    $(document).ready(function() {
        $(window).trigger("resize");
        init_classic_menu();
        init_mobile_nav_toggle();
    });
    $(window).on("resize", function(event) {
        event.preventDefault();
        init_classic_menu_resize();
    });
    /* --------------------------------------------
    Platform detect
    --------------------------------------------- */
    var mobileTest;
    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)) {
        mobileTest = true;
        $("html").addClass("mobile");
    } else {
        mobileTest = false;
        $("html").addClass("no-mobile");
    }
    var mozillaTest;
    if (/mozilla/.test(navigator.userAgent)) {
        mozillaTest = true;
    } else {
        mozillaTest = false;
    }
    var safariTest;
    if (/safari/.test(navigator.userAgent)) {
        safariTest = true;
    } else {
        safariTest = false;
    }
    // Detect touch devices    
    if (!("ontouchstart" in document.documentElement)) {
        document.documentElement.className += " no-touch";
    }
    /* ---------------------------------------------
    Sections helpers
    --------------------------------------------- */
    // Sections backgrounds
    var pageSection = $(".home-section, .page-section, .small-section, .split-section");
    pageSection.each(function(indx) {
        if ($(this).attr("data-background")) {
            $(this).css("background-image", "url(" + $(this).data("background") + ")");
        }
    });
    // Function for block height 100%
    function height_line(height_object, height_donor) {
        height_object.height(height_donor.height());
        height_object.css({
            "line-height": height_donor.height() + "px"
        });
    }
    // Function equal height
    !function(a) {
        a.fn.equalHeights = function() {
            var b = 0, c = a(this);
            return c.each(function() {
                var c = a(this).innerHeight();
                c > b && (b = c);
            }), c.css("height", b);
        }, a("[data-equal]").each(function() {
            var b = a(this), c = b.data("equal");
            b.find(c).equalHeights();
        });
    }(jQuery);
    /* ---------------------------------------------
    Nav panel classic
    --------------------------------------------- */
    function init_classic_menu_resize() {
        // Mobile menu style toggle
        if ($(window).width() <= 899) {
            $(".navigation").addClass("mobile-on");
        } else if ($(window).width() > 899) {
            $(".navigation").removeClass("mobile-on");
        }
    }
    // Hamburger Menu - Toggle
    function init_mobile_nav_toggle() {
        var hamburger = $("#js-mobile-menu").off();
        var desktop_nav = $("#js-navigation-menu");
        desktop_nav.removeClass("show");
        hamburger.on("click", function(e) {
            e.preventDefault();
            this.classList.contains("is-active") === true ? this.classList.remove("is-active") : this.classList.add("is-active");
            desktop_nav.slideToggle(function() {
                if ($(this).is(":hidden")) {
                    $(this).removeAttr("style");
                }
            });
        });
    }
    function init_classic_menu() {
        // height_line($(".nav-link"), $(".navigation"));
        // height_line($("#js-mobile-menu"), $(".navigation"));
        // height_line($(".logo"), $(".navigation"));
        // height_line($(".button-wrapper"), $(".navigation"));
        // Sub menu
        var mnHasSub = $(".mn-has-sub");
        var mnThisLi;
        $(".mobile-on .mn-has-sub").find(".fa:first").removeClass("fa-angle-right").addClass("fa-angle-down");
        mnHasSub.click(function() {
            if ($(".navigation").hasClass("mobile-on")) {
                mnThisLi = $(this).parent("li:first");
                if (mnThisLi.hasClass("js-opened")) {
                    mnThisLi.find(".submenu:first").slideUp(function() {
                        mnThisLi.removeClass("js-opened");
                        mnThisLi.find(".mn-has-sub").find(".fa:first").removeClass("fa-angle-up").addClass("fa-angle-down");
                    });
                } else {
                    $(this).find(".fa:first").removeClass("fa-angle-down").addClass("fa-angle-up");
                    mnThisLi.addClass("js-opened");
                    mnThisLi.find(".submenu:first").slideDown();
                }
                return false;
            } else {}
        });
        mnThisLi = mnHasSub.parent("li");
        mnThisLi.hover(function() {
            if (!$(".navigation").hasClass("mobile-on")) {
                $(this).find(".submenu:first").stop(true, true).fadeIn("fast");
            }
        }, function() {
            if (!$(".navigation").hasClass("mobile-on")) {
                $(this).find(".submenu:first").stop(true, true).delay(100).fadeOut("fast");
            }
        });
    }
})(jQuery);